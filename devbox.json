{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.11.0/.schema/devbox.schema.json",
  "packages": [
    "delve@1.22.1",
    "go@1.22.3",
    "golangci-lint@1.59.1",
    "libpng@1.6.43",
    "libwebp@1.4.0",
    "minio-client@2024-06-10T16-44-15Z",
    "protobuf@25.3",
    "protoc-gen-go@1.34.1",
    "protoc-gen-go-grpc@1.3.0",
    ".#atlas"
  ],
  "shell": {
    "scripts": {
      "api": "go run cmd/api/serve.go",
      "test": "go test -v ./...",
      "migrate:diff": [
        "echo -n 'Migration Name: '",
        "read migration_name",
        "atlas migrate diff \"$migration_name\" --dir \"file://migrations/sql?format=golang-migrate\" --to \"ent://db/schema\" --dev-url \"docker://postgres/16/test?search_path=public\""
      ],
      "migrate:new": [
        "echo -n 'Migration Name: '",
        "read migration_name",
        "atlas migrate new \"$migration_name\" --dir \"file://migrations/sql?format=golang-migrate\""
      ],
      "migrate:hash": [
        "atlas migrate hash --dir \"file://migrations/sql?format=golang-migrate\""
      ]
    }
  }
}
